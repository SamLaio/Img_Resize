jQuery.fn.extend({imgResize:function(settings){varconfig={'width':$(window).width()};vardim_img=this.find('img');varimg_arr=newArray();varimg_boolean=false;if(settings){$.extend(config,settings);}if(dim_img.length>0){for(vari=0;i<dim_img.length;i++){if(dim_img[i].complete){img_arr[i]=newArray();img_arr[i][0]=dim_img[i].naturalWidth;img_arr[i][1]=dim_img[i].naturalHeight;}}img_resize();}$(window).resize(function(){img_resize();});functionimg_resize(){for(vari=0;i<dim_img.length;i++){varimg_w=img_arr[i][0];varimg_h=img_arr[i][1];varre_w=img_w;varre_h=img_h;if(img_w>config.width){re_w=config.width*0.9;re_h=parseInt(config.width*img_h/img_w)*0.9;}dim_img[i].style.width=re_w+'px';dim_img[i].style.height=re_h+'px';}}}});